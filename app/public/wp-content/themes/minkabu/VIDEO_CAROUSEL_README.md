# YouTube動画カルーセル機能

## 概要
WordPressのカスタム投稿タイプを使用してYouTube動画をカルーセル形式で表示する機能です。
管理画面から動画の追加・削除・並び替えが簡単にできます。

## 機能の特徴
- **管理画面で簡単管理**: WordPress管理画面から動画を追加・編集・削除
- **レスポンシブ対応**: PC、タブレット、スマートフォンで最適な表示
- **Swiper.js使用**: スムーズなカルーセル動作
- **並び順管理**: ドラッグ&ドロップまたは数値入力で表示順を変更可能

## 使用方法

### 1. 動画の登録

#### 管理画面から登録
1. WordPress管理画面にログイン
2. 左メニューの「動画管理」をクリック
3. 「新規追加」をクリック
4. 以下の情報を入力：
   - **タイトル**: 動画のタイトル
   - **YouTube URL**: YouTubeの動画URL（例: https://www.youtube.com/watch?v=xxxxx）
   - **動画説明**: 動画の簡単な説明（任意）
   - **順序**: 表示順序（数字が小さいほど前に表示）
5. 「公開」をクリック

#### サンプル動画の一括登録
初回のみ、管理画面でサンプル動画を一括登録できます：
1. 「動画管理」ページを開く
2. 「サンプル動画を登録」ボタンをクリック
3. 3つのサンプル動画が自動的に登録されます

### 2. 動画の編集

1. 「動画管理」ページで編集したい動画をクリック
2. 情報を修正
3. 「更新」をクリック

### 3. 動画の削除

1. 「動画管理」ページで削除したい動画にカーソルを合わせる
2. 「ゴミ箱へ移動」をクリック

### 4. 並び順の変更

#### 方法1: 順序フィールドを使用
1. 動画の編集画面を開く
2. 右側の「ページ属性」ボックスの「順序」フィールドに数値を入力
3. 数値が小さいほど前に表示されます

#### 方法2: クイック編集を使用
1. 「動画管理」ページで動画にカーソルを合わせる
2. 「クイック編集」をクリック
3. 「順序」フィールドを変更
4. 「更新」をクリック

## ショートコード

### 基本的な使い方
```
[minkabu_video_carousel]
```

### パラメータ
- `count`: 表示する動画数（デフォルト: -1 = すべて表示）
- `orderby`: 並び順の基準（デフォルト: menu_order）
- `order`: 昇順/降順（デフォルト: ASC）

### 例
```
// 最新3件の動画を表示
[minkabu_video_carousel count="3" orderby="date" order="DESC"]

// 登録順に5件表示
[minkabu_video_carousel count="5"]
```

## テンプレートでの使用

PHPテンプレート内で直接呼び出す場合：

```php
<?php echo do_shortcode('[minkabu_video_carousel]'); ?>
```

## カルーセルの表示設定

### PC表示
- 3つの動画を同時表示
- 左右の矢印ボタンで操作
- ページネーション（ドット）表示

### タブレット表示
- 2つの動画を同時表示
- スワイプ操作対応

### スマートフォン表示
- 1つの動画を表示
- スワイプ操作対応
- 矢印ボタンは非表示

## トラブルシューティング

### 動画が表示されない
- YouTube URLが正しく入力されているか確認
- 動画が「公開」ステータスになっているか確認
- ショートコードが正しく配置されているか確認

### カルーセルが動作しない
- JavaScriptエラーがないか確認（ブラウザのコンソール）
- jQueryが読み込まれているか確認
- Swiper.jsが正しく読み込まれているか確認

## カスタマイズ

### スタイルの変更
`functions.php`内の`minkabu_enqueue_carousel_assets`関数のインラインCSSを編集してください。

### カルーセル設定の変更
同じく`minkabu_enqueue_carousel_assets`関数内のSwiper初期化設定を編集してください。

## 技術仕様

- **カスタム投稿タイプ名**: `minkabu_video`
- **メタフィールド**:
  - `_minkabu_youtube_url`: YouTube URL
  - `_minkabu_video_description`: 動画説明
- **使用ライブラリ**: Swiper.js v11.0.0
- **対応ブラウザ**: モダンブラウザ全般（IE11は非対応）

## 注意事項

- YouTube動画の埋め込みにはインターネット接続が必要です
- 動画の著作権には十分注意してください
- 大量の動画を同時に読み込むとページ速度が低下する可能性があります